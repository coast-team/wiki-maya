{
  "info": {
    "version": "1",
    "title": "maya scoring interface",
    "description": "A RESTful API for scoring revisions (v1 paths).  These paths provide\naccess to a set of scoring models.  This API primarily differs from v1 in\nthat there is only one response document schema that any path returns.\nThis response document contains 'error' information, 'warnings' and\n'scores' structures.\n\nThere's also new functionality for returning 'feature' values used in\nscoring and 'inject'ing custom feature values for scoring.\n"
  },
  "basePath": "/",
  "swagger": "2.0",
  "schemes": [
    "{{scheme|safe}}"
  ],
  "host": "{{host|safe}}",
  "produces": [
    "application/json"
  ],
  "definitions": {
    "ResponseDocument": {
      "type": "object",
      "properties": {
        "warnings": {
          "description": "A list of warnings raised while generating a response",
          "items": {
            "$ref": "#/definitions/ErrorWarningDocument"
          },
          "type": "array"
        },
        "error": {
          "description": "An error that prevented processing the request",
          "type": "object",
          "properties": {
            "code": {
              "description": "A short string identifying the error",
              "type": "string"
            },
            "message": {
              "description": "A human-readable explanation of what went wrong",
              "type": "string"
            }
          }
        }
      },
      "additionalProperties": {
        "$ref": "#/definitions/ContextDocument"
      }
    },
    "ContextDocument": {
      "description": "A mapping of scores and model information",
      "type": "object",
      "properties": {
        "scores": {
          "description": "The scores generated.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/RevisionScoresDocument"
          }
        },
        "models": {
          "description": "The models with information requested.",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ModelInfoDocument"
          }
        }
      }
    },
    "ErrorWarningDocument": {
      "description": "A warning or error message.",
      "type": "object",
      "properties": {
        "type": {
          "description": "A short string identifying the error",
          "type": "string"
        },
        "message": {
          "description": "A human-readable explanation of what went wrong",
          "type": "string"
        }
      }
    },
    "ModelInfoDocument": {
      "description": "Information about the model",
      "type": "object",
      "properties": {
        "version": {
          "description": "A semantic version string",
          "type": "string"
        },
        "trained": {
          "description": "The datetime at which the model was trained (in seconds since Jan. 1st 1970)",
          "type": "number"
        },
        "params": {
          "description": "A list of parameters used when constructing the model",
          "additionalProperties": true,
          "type": "object"
        },
        "type": {
          "description": "The type of model used to score",
          "type": "string"
        },
        "test_stats": {
          "description": "A list of test statistics used on the model.",
          "additionalProperties": true,
          "type": "object"
        }
      }
    },
    "RevisionScoresDocument": {
      "type": "object",
      "description": "A collection of scores for a single revision (or an error)",
      "additionalProperties": {
        "$ref": "#/definitions/ModelScoreDocument"
      }
    },
    "ModelScoreDocument": {
      "type": "object",
      "properties": {
        "features": {
          "description": "A mapping of feature names to the values generated in scoring",
          "additionalProperties": {
            "type": [
              "number",
              "boolean",
              "array"
            ]
          },
          "type": "object"
        },
        "score": {
          "description": "The generated score",
          "additionalProperties": {
            "type": [
              "number",
              "string",
              "boolean",
              "array",
              "object"
            ]
          },
          "type": "object"
        },
        "error": {
          "description": "The an error generated while trying to generate a score",
          "type": "object",
          "$ref": "#/definitions/ErrorWarningDocument"
        }
      }
    }
  },
  "paths": {
    "/v1/nlp/": {
      "get": {
        "summary": "Analyze the revision based on NLP",
        "parameters": [
          {
           "required": true,
            "name": "revid",
            "in": "path",
            "description": "The revision ID to score",
            "type": "int",
            "format": "int"
          }
        ],
        "description": "This route provides analyses of text based on NLP",
        "tags": [
          "nlp"
        ],
        "responses": {
          "200": {
            "description": "A JSON document information about the NLP Score",
            "schema": {
              "$ref": "#/definitions/ResponseDocument"
            }
          },
          "default": {
            "description": "An error occurred that prevented contexts from being retrieved",
            "schema": {
              "$ref": "#/definitions/ResponseDocument"
            }
          }
        }
      }
    }
  }
}
